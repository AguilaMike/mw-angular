<ng-template [ngIf]="!isOpened" [ngIfElse]="openedTpl">
  <button type="button"
          mat-stroked-button
          color="primary"
          (click)="openEvent.emit()">
    <ng-container *ngTemplateOutlet="contentTpl"></ng-container>
    <mat-icon>expand_more</mat-icon>
  </button>
</ng-template>

<ng-template #openedTpl>
  <button type="button"
          mat-flat-button
          color="primary">
    <ng-container *ngTemplateOutlet="contentTpl"></ng-container>
    <mat-icon>expand_less</mat-icon>
  </button>
</ng-template>

<ng-template #contentTpl>
  <ng-content></ng-content>
</ng-template>
